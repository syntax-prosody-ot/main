<html>
<!--Max Tarlov 9/23/19 testing different recursive categories in GEN -->
<title>GEN Category Options</title>
<head>
	<link rel="stylesheet" type="text/css" href="../../spot.css">
	<script src="../../build/spot.js"></script>
	<script src="../../build/constraints.js"></script>
	<script src="../../candidategenerator.js"></script>
</head>
<body>
	<button onclick="checkWarnings()">Check Warnings and Errors</button>
	<pre id="results-container"></pre>
	<script>
	function checkWarnings() {
		console.log("checking non-recursivity warnings...");
		GEN({}, "one two", {obeysNonrecursivity:true, rootCategory: "phi", terminalCategory: "phi"});
		console.log("checking layering warnings...");
		GEN({}, "one two", {rootCategory:"w"});
		GEN({}, "one two", {recursiveCategory:"w", terminalCategory:"phi"});
		console.log("checking exhaustivity warnings...");
		GEN({}, "one two", {rootCategory:"u"});
		GEN({}, "one two", {terminalCategory:"Ft"});
		console.log("checking prosodic hierarchy errors...");
		try{
			GEN({}, "one two", {rootCategory:"root"});
		}
		catch(err){
			console.error(err);
		}
		try{
			GEN({}, "one two", {recursiveCategory:"mip"});
		}
		catch(err){
			console.error(err);
		}
		try{
			GEN({}, "one two", {terminalCategory:"palabras"});
		}
		catch(err){
			console.error(err);
		}
	}
	var con = ['nonRecPairs-p', 'nonRecPairs-w', 'nonRecPairs-i'];
	window.addEventListener("load",function(){
		writeTableau(makeTableau(GEN({id:"Works with recursive w", cat:"x0"}, 'first second third', {recursiveCategory:"w"}), con));
		revealNextSegment();
		writeTableau(makeTableau(GEN({id:"Works with recursive i", cat:"x0"}, 'first second third', {recursiveCategory:"i"}), con));
		revealNextSegment();
		writeTableau(makeTableau(GEN({id:"Works with exhaustivity", cat:"x0"}, 'first second third', {recursiveCategory:"i", obeysExhaustivity:true}), con));
		revealNextSegment();
		writeTableau(makeTableau(GEN({id:"Works with headedness", cat:"x0"}, 'first second third', {recursiveCategory:"w", obeysHeadedness:true}), con));
		revealNextSegment();
		/*
		writeTableau(makeTableau(GEN({id:"same root and terminal cats", cat:"x0"}, "a b c", {rootCategory:"i", terminalCategory: 'i', noUnary:true, obeysExhaustivity:true}), con));
		revealNextSegment();
		writeTableau(makeTableau(GEN({id:"skip 2 levels", cat:"x0"}, "a b c", {rootCategory:"i", recursiveCategory:"w"}), con, {showNewCats:true}));
		revealNextSegment();
		writeTableau(makeTableau(GEN({id:"Works with undefined categories", cat:"x0"}, "first second third", {rootCategory:"u", recursiveCategory:"p", terminalCategory:"word"}), con, {showNewCats:true}));
		revealNextSegment();
		writeTableau(makeTableau(GEN({id:'Works with phi stem (now called "requireRecWrapper")', cat:"x0"}, 'first second third', {recursiveCategory:"w", requireRecWrapper:true}), con, {showNewCats:true}));
		revealNextSegment();
		writeTableau(makeTableau(GEN({id:"Works with headedness", cat:"x0"}, 'first second third', {recursiveCategory:"w", obeysHeadedness:true}), con, {showNewCats:true}));
		revealNextSegment();
		writeTableau(makeTableau(GEN({id:"Non-recursivity works sometimes, sorta", cat:"x0"}, "first second third", {rootCategory:"mip", recursiveCategory:"word", terminalCategory:"word", obeysNonrecursivity:true}), con, {showNewCats:true}));
		revealNextSegment();
		writeTableau(makeTableau(GEN({id:"Shows warning when non-recursivity fails", cat:"x0"}, "first second third", {rootCategory:"mip", recursiveCategory:"mip", terminalCategory:"word", obeysNonrecursivity:true}), con, {showNewCats:true}));
		revealNextSegment();
		writeTableau(makeTableau(GEN({id:"Non-recursivity works sometimes, sorta", cat:"x0"}, "first second third", {rootCategory:"word", recursiveCategory:"mip", terminalCategory:"word", obeysNonrecursivity:true}), con, {showNewCats:true}));
		revealNextSegment();
		*/
	});
	</script>
</body>

</html>
