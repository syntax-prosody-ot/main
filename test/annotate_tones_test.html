<html>
<head>
	<title>Syntax-prosody interface application</title>

	<link rel="stylesheet" type="text/css" href="../spot.css">

	<!-- to keep spot.js in sync with the codebase make sure to run jsbuild.sh after making any changes to javascript files in the main directory or in the constraints sub-directory
	(open a terminal, cd into the main directory, type ./jsbuild.sh and hit enter) -->
	<script src="../build/spot.js"></script>
	<script src="../build/constraints.js"></script>
	
</head>

<body style="padding-left: 5%; padding-right: 5%; padding-top: 20px">
	<h2>SPOT test tone annotation for Japanese/Basque phonological phrasing</h2>
	<pre id="results-container"></pre>

	<script src="../trees/binarityTrees.js"></script>
	<script src="../trees/trees.js"></script>
	<script src="../constraints/annotate_tones.js"></script>
	
	<script>
	var accentTree1 = {
		id: "root",
		cat: "i",
		children: [
			{
				cat: "phi",
				id: "XP_4",
				children: [
					{
						id: "A",
						cat: "w"
					},
					{
						id: "U",
						cat: "w"
					}
				]
			},
			{
				id: "A_1",
				cat: "w"
			}
		]
	};

	var accentTree2 = {
		id: "root",
		cat: "i",
		children: [
			{
				cat: "phi",
				id: "XP_4",
				children: [
					{
						id: "a",
						cat: "w"
					},
					{
						id: "phi2",
						cat: "phi",
						children: [{id:"b", cat:"w"}]
					},
					{
						id: "c",
						cat: "w"
					}
				]
			},
			{
				id: "d",
				cat: "w"
			}
		]
	};
	/* console.log(parenthesizeTree(accentTree1, {showTones: 'addIrishTones_Elfner'}));
	//annotatedTree = addJapaneseTones(accentTree1);
	//annotatedTree = addIrishTones_Elfner(accentTree1);
	annotatedTree = addIrishTones_Kalivoda(accentTree1);
	console.log(annotatedTree);
	console.log(parenthesizeTree(annotatedTree, {showTones: true}));
	console.log(parenthesizeTree(accentTree1, {showTones: false}));

	annotatedTree = addIrishTones_Kalivoda(accentTree2);
	console.log(annotatedTree);
	console.log(parenthesizeTree(annotatedTree, {showTones: true}));
	console.log(parenthesizeTree(accentTree1, {showTones: false})); */
	
	var sTreeAlign2 = { 
		"id":"xp0",
		"cat":"xp",
		"children":
		[
			{
				"id":"xp1",
				"cat":"xp",
				"children":
				[
					{
						"id":"word1",
						"cat":"x0"
					}
				]
			},
			{
				"id":"word2",
				"cat":"w"
			}
		]
	};


	
	var constraintSetAlign = ['alignLeft-xp', 'alignRight-xp', 'wrap-xp'];
	var candidateSet = [[sTreeAlign1, addIrishTones_Kalivoda(pTree3words)], [sTreeAlign1, addIrishTones_Kalivoda(pTree4words)], [sTreeAlign1, addIrishTones_Kalivoda(pTree4wordsRec)], [sTreeAlign1, addIrishTones_Kalivoda(pTree4words2xRec)]];
		
	function runDemo() {
		
		writeTableau(makeTableau(candidateSet, constraintSetAlign, {showTones: 'addIrishTones_Elfner'}));
		revealNextSegment();
		lastSegmentId++;
	}

	</script>

</body>

</html>
