<html><head> 
    <title>SPOT Automated Testing (threeXPsTest)</title>
  
  <link rel="stylesheet" type="text/css" href="../spot.css">
  
    <!--If running tests that do not have to do with the interface, run jsbuild.sh or jsbuild.bat
        in root directory of the project. If running interface testing, run testbuild.sh
        or testBuild.bat-->
    <script src="../build/spot.js"></script>
  
    <!--Mocha setup stuff (1/2)-->
    <meta charset="UTF-8">
    <script src="../lib/test/mocha.min.js"></script>
    <script src="../lib/test/chai.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../lib/test/mocha.css">
    <!--mocha setup stuff to be continued in document body-->
    
  </head>
  <h2>SPOT Automated Testing</h2>
  <script>
    mocha.setup("bdd"); //brings "describe", "it", etc. into global namespace
        //mocha.checkLeaks();
        var assert = chai.assert; //no one wants to type out "chai.assert" every time
</script>

<div id="mocha">
    containsAdjunct and threeXPsTest
</div>
<body style="padding-left: 5%; padding-right: 5%; padding-top: 20px">
<script>

var x1 = {
        "id": "CP1",
        "cat": "xp",
        "children": [
            {
                "cat": "xp",
                "id": "XP_5",
                "children": [
                    {
                        "id": "a",
                        "cat": "xp"
                    }
                ]
            },
            {
                "cat": "xp",
                "id": "XP_6",
                "children": [
                    {
                        "id": "b",
                        "cat": "xp"
                    }
                ]
            },
            {
                "cat": "xp",
                "id": "XP_6",
                "children": [
                    {
                        "id": "b",
                        "cat": "xp"
                    }
                ]
            }
        ]
    }

console.log('x1 = [[a] [b] [c]]')
console.log('expected: true')
console.log('actual: ' + threeXPs(x1))

var y1 = {
        "id": "CP1",
        "cat": "xp",
        "children": [
            {
                "cat": "xp",
                "id": "XP_5",
                "children": [
                    {
                        "id": "a",
                        "cat": "xp"
                    }
                ]
            },
            {
                "cat": "xp",
                "id": "XP_6",
                "children": [
                    {
                        "id": "b",
                        "cat": "xp"
                    }
                ]
            }
        ]
    }

console.log('y1 = [[a] [b]]')
console.log('expected: false')
console.log('actual: ' + threeXPs(y1))

var z1 = {
        "id": "CP1",
        "cat": "xp",
        "children": [
            {
                "id": "a",
                "cat": "x0"
            },
            {
                "cat": "xp",
                "id": "XP_6",
                "children": [
                    {
                        "id": "b",
                        "cat": "xp"
                    }
                ]
            },
            {
                "cat": "xp",
                "id": "XP_6",
                "children": [
                    {
                        "id": "c",
                        "cat": "xp"
                    }
                ]
            }
        ]
    }

console.log('z1 = [a [b] [c]]')
console.log('expected: false')
console.log('actual: ' + threeXPs(z1))



var x = {
        "id": "root",
        "cat": "xp",
        "children": [
            {
                "cat": "x0",
                "id": "a"
            },
            {
                "cat": "xp",
                "id": "xp2",
                "children": [
                    {
                        "id": "b",
                        "cat": "x0"
                    },
                    {
                        "id": "c",
                        "cat": "x0"
                    }
                ]
            }
        ]
    }

console.log('[a [b [c]]]')
console.log('expected: false')
console.log('actual: ' + containsAdjunct(x))

var y = {
        "id": "root",
        "cat": "xp",
        "children": [
            {
                "cat": "xp",
                "id": "xp6",
                "children": [
                    {
                        "id": "a",
                        "cat": "x0"
                    }
                ]
            },
            {
                "cat": "xp",
                "id": "xp2",
                "children": [
                    {
                        "id": "b",
                        "cat": "x0"
                    },
                    {
                        "id": "xp0",
                        "cat": "xp",
                        "children": [
                          {
                              "id": "c",
                              "cat": "x0"
                          }
                        ]
                    }
                ]
            }
        ]
    }

console.log('[[a] [b [c]]]')
console.log('expected: true')
console.log('actual: ' + containsAdjunct(y))

var z = {
        "id": "root",
        "cat": "xp",
        "children": [
            {
                "cat": "xp",
                "id": "xp6",
                "children": [
                    {
                        "id": "a",
                        "cat": "x0"
                    }
                ]
            },
            {
                "cat": "x0",
                "id": "b"
            },
            {
                "cat": "xp",
                "id": "xp0",
                "children": [
                    {
                        "id": "c",
                        "cat": "x0"
                    }
                ]
            }
        ]
    }
console.log('[[a] b [c]]')
console.log('expected: false')
console.log('actual: ' + containsAdjunct(z))

//automated test
describe('[a [b [c]]]', function() {
            it('does not contain an adjunct', function() {
                assert.equal(containsAdjunct(x), false);
            });
        });

describe('[[a] [b [c]]]', function() {
            it('contains an adjunct', function() {
                assert.equal(containsAdjunct(y), true);
            });
        });

describe('[[a] b [c]]', function() {
            it('does not contain an adjunct', function() {
                assert.equal(containsAdjunct(z), false);
            });
        });

//automated test
describe('threeXPs', function() {
            it('x = [[a] [b] [c]], threeXPs(x)', function() {
                assert.equal(threeXPs(x1), true);
            });

            it('y = [[a] [b]], threeXPs(y)', function() {
                assert.equal(threeXPs(y1), false);
            });

            it('z = [a [b] [c]], threeXPs(z)', function() {
                assert.equal(threeXPs(z1), false);
            });
        });
        
        mocha.run(); //don't forget to run the test!!!

</script>

</body>
</html>
